<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>JavaScript中原型链理解 | 小锋子</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="JavaScript原型链," />
  

  <meta name="description" content="2017年9月4日中午于华中科技大学东图书馆————补写 前言关于原型链，我觉得大家好像把它弄复杂了，面试中很爱问，最近我试着从官网文档中去理解它，得到了很好的解惑。大家都知道，javascript是一门面向对象的弱类型脚本语言，而且是动态的，无编译，由解释器直接执行。因为是面向对象的语言，所以肯定要实现继承。官网上也说了，对于Java和C++的开发者来说，没有类，不好继承。（当然ES6中现在有类">
<meta name="keywords" content="JavaScript原型链">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript中原型链理解">
<meta property="og:url" content="http://gruad.github.io/2017/08/07/JavaScript中原型链理解/index.html">
<meta property="og:site_name" content="小锋子">
<meta property="og:description" content="2017年9月4日中午于华中科技大学东图书馆————补写 前言关于原型链，我觉得大家好像把它弄复杂了，面试中很爱问，最近我试着从官网文档中去理解它，得到了很好的解惑。大家都知道，javascript是一门面向对象的弱类型脚本语言，而且是动态的，无编译，由解释器直接执行。因为是面向对象的语言，所以肯定要实现继承。官网上也说了，对于Java和C++的开发者来说，没有类，不好继承。（当然ES6中现在有类">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://gruad.github.io/img/proto1.png">
<meta property="og:image" content="http://gruad.github.io/img/proto2.png">
<meta property="og:image" content="http://gruad.github.io/img/proto3.png">
<meta property="og:image" content="http://gruad.github.io/img/proto4.png">
<meta property="og:image" content="http://gruad.github.io/img/proto5.png">
<meta property="og:image" content="http://gruad.github.io/img/proto6.png">
<meta property="og:updated_time" content="2017-09-03T04:43:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript中原型链理解">
<meta name="twitter:description" content="2017年9月4日中午于华中科技大学东图书馆————补写 前言关于原型链，我觉得大家好像把它弄复杂了，面试中很爱问，最近我试着从官网文档中去理解它，得到了很好的解惑。大家都知道，javascript是一门面向对象的弱类型脚本语言，而且是动态的，无编译，由解释器直接执行。因为是面向对象的语言，所以肯定要实现继承。官网上也说了，对于Java和C++的开发者来说，没有类，不好继承。（当然ES6中现在有类">
<meta name="twitter:image" content="http://gruad.github.io/img/proto1.png">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbe6" rel="stylesheet">


  

  

  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?0efcf264890b4bd5a8ae5f834bad299c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  
</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">导航</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">导航</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于我
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/atom.xml"
            rel="noopener noreferrer"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#原型继承的原理来源"><span class="toc-text">原型继承的原理来源</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-JavaScript中原型链理解" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">JavaScript中原型链理解</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2017.08.07</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>gruad</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      

      
      
    </div>
  </header>

  <div class="article-content">
    
      <p><strong>2017年9月4日中午于华中科技大学东图书馆————补写</strong></p>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>关于原型链，我觉得大家好像把它弄复杂了，面试中很爱问，最近我试着从官网文档中去理解它，得到了很好的解惑。<br>大家都知道，javascript是一门面向对象的弱类型脚本语言，而且是动态的，无编译，由解释器直接执行。因为是面向对象的语言，所以肯定要实现继承。官网上也说了，对于Java和C++的开发者来说，没有类，不好继承。（当然ES6中现在有类了，但是只是原型的语法糖，实现还是靠原型）。但是javascript的设计者，发明了用原型去解决继承。<br>原文：</p>
<blockquote>
<p>JavaScript is a bit confusing for developers experienced in class-based languages (like Java or C++), as it is dynamic and does not provide a class implementation per se (the class keyword is introduced in ES2015, but is syntactical sugar, JavaScript remains prototype-based).</p>
</blockquote>
<h3 id="原型继承的原理来源"><a href="#原型继承的原理来源" class="headerlink" title="原型继承的原理来源"></a>原型继承的原理来源</h3><p>官网原话：</p>
<blockquote>
<p><strong>When it comes to inheritance, JavaScript only has one construct: objects. Each object has a private property (referred to as [[Prototype]] ) which holds a link to another object called its prototype.</strong> That prototype object has a prototype of its own, and so on until an object is reached with null as its prototype. By definition, null has no prototype, and acts as the final link in this prototype chain.</p>
</blockquote>
<p>其中重点有：<strong>When it comes to inheritance, JavaScript only has one construct: objects. Each object has a private property (referred to as [[Prototype]] ) which holds a link to another object called its prototype.</strong></p>
<p><strong>实现继承，javascript仅利用的是一个数据结构————对象。每个对象都有一个私有属性（称为[[Prototype]]）即为常见的<strong>proto</strong>，它指向另一个对象————这个对象叫做它的原型（prototype）。这个对象又有它自己的原型，即这个对象的<strong>proto</strong>指向另一个对象，依次下去，知道原型链的终点为null</strong></p>
<p>举例说明：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> obj=&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;;</div><div class="line"></div><div class="line">obj.__proto__===<span class="built_in">Object</span>.prototype <span class="comment">//true</span></div><div class="line"></div><div class="line">obj.prototype; <span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<p><img src="/img/proto1.png" alt=""><br><img src="/img/proto2.png" alt=""><br><img src="/img/proto3.png" alt=""></p>
<p>原始对象即构造函数的prototype:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype;</div><div class="line"><span class="built_in">Object</span>.prototype;</div><div class="line"><span class="built_in">Number</span>.prototype;</div></pre></td></tr></table></figure>
<p><img src="/img/proto4.png" alt=""><br><img src="/img/proto5.png" alt=""><br><img src="/img/proto6.png" alt=""></p>
<p>从上面我们可以至少得到以下几点：</p>
<ol>
<li>只有构造函数可以直接Constructor.prototype。它指向是它本身的原型。或它就是原型。而普通对象（或者叫字面量创建的对象，无构造函数的，它的prototype=undefined）。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<p>关于原型链和JavaScript继承，我一直都是属于理解之后就忘得那种，可能是在开发过程中使用的少的原因。很快就忘了。我就不总结了，感觉没理解好，总结了也是白费。可以参考一下博文<a href="http://hyuhan.com/2016/08/28/JavaScript-prototype/" target="_blank" rel="external">hyuhan</a>、<a href="http://cnodejs.org/topic/56e2d7488023c6146ec3ff05" target="_blank" rel="external">cnodejs总结</a>、阮一峰的可以看它的来源<a href="http://www.ruanyifeng.com/blog/2011/06/designing_ideas_of_inheritance_mechanism_in_javascript.html" target="_blank" rel="external">Javascript继承机制的设计思想</a>和<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" target="_blank" rel="external">MDN</a></p>

    
  </div>
</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">支持一下</span>
      <div class="donation-body">
        <div class="tip text-center">扫一扫，支持peck</div>
        <ul class="theme.donation.items.length">
        
          <li class="item">
            <img src="/images/wechat.jpeg" alt="">
          </li>
        
          <li class="item">
            <img src="/images/alipay.jpeg" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2017/08/07/JavaScript中闭包的理解/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2017/08/08/JavaScript中设计模式理解/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于我
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              rel="noopener noreferrer"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    




    

    
	
  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
